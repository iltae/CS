## 시스템 콜 (System Call)

사용자 프로그램이 운영체제의 **커널 함수**를 호출하여 운영체제의 **서비스를 요청하는 메커니즘**

### 예시

- 사용자 프로그램이 디스크에서 파일을 읽고자 할 때:
  - 사용자 프로그램은 직접 **디스크 컨트롤러에 접근 불가**
  - 운영체제에게 요청해야 함 → **시스템 콜 발생**
  - 이 과정에서 **CPU 제어권이 운영체제로 넘어감**

> 시스템 콜은 내부적으로 **Trap(소프트웨어 인터럽트)**을 발생시켜 **운영체제(커널 모드)**로 진입하게 만듬

---

## 인터럽트 (Interrupt)

**현재 실행 중인 흐름을 중단하고**, 우선적으로 처리해야 할 작업을 먼저 수행하도록 **CPU의 흐름을 바꾸는 메커니즘**

### 동작 방식

1. 인터럽트 발생
2. 현재 실행 중이던 **레지스터 상태 및 프로그램 카운터(PC)** 저장
3. CPU는 **인터럽트 처리 루틴(ISR)**으로 제어 이동
4. 처리 완료 후 원래 실행하던 작업 복귀

---

## 인터럽트의 분류

- **Interrupt (하드웨어 인터럽트)**  
  → 외부 하드웨어 장치(예: 키보드, 디스크, 타이머 등)가 CPU에게 신호

- **Trap (소프트웨어 인터럽트)**  
  → 프로그램 내부에서 발생

  | 종류 | 설명 |
  |------|------|
  | **Exception** | 프로그램이 오류를 범한 경우 (예: 0으로 나누기 등) |
  | **System Call** | 사용자 프로그램이 운영체제의 서비스를 요청할 때 |

---

## 인터럽트 관련 용어

- **인터럽트 벡터 (Interrupt Vector)**  
  → 각 인터럽트에 대한 **처리 루틴의 주소**를 저장한 테이블
  → 인터럽트 종류 별로 운영체제 어디의 코드를 실행해야 할 위치, 일종의 주소에 대한 포인터

- **인터럽트 처리 루틴 (Interrupt Service Routine, ISR)**
  → 발생한 인터럽트를 실제로 처리하는 **운영체제 내의 함수**
  → 인터럽트 핸들러라고도 부름

> 시스템 콜과 인터럽트는 **사용자와 커널의 경계**, 그리고 **하드웨어와 소프트웨어 간의 연결**을 담당하는 핵심적인 컴퓨터 구조 요소

---

## Device Controller (장치 제어기)

**I/O 장치를 제어하는 하드웨어 컴포넌트**로, 각 I/O 장치 유형마다 전용 **Device Controller**가 존재

### 특징

- 일종의 **작은 CPU**처럼 동작
- I/O 작업을 장치 대신 처리
- 내부 구성:
  - **Control Register**: 제어 정보 저장
  - **Status Register**: 장치 상태 확인
  - **Local Buffer** (Data Register):  
    실제 데이터가 임시 저장되는 공간

### 동작 방식

- I/O 동작은 **실제 장치와 로컬 버퍼 간**에서 수행됨
- I/O 작업이 끝나면, **Device Controller가 인터럽트를 발생시켜 CPU에 알림**

---

## Device Driver (장치 드라이버)

- 운영체제 내부의 **소프트웨어 구성요소**
- 각 장치마다 존재하는 **처리 루틴**
- OS가 특정 장치를 제어할 수 있도록 해줌

---

## 정리: Controller vs Driver

| 구분 | 설명 | 구성 | 위치 |
|------|------|------|------|
| **Device Controller** | 각 장치를 제어하는 하드웨어 | Control/Status Register, Local Buffer | **하드웨어 (Hardware)** |
| **Device Driver** | 각 장치를 다루는 운영체제의 소프트웨어 코드 | 장치별 처리 루틴 | **운영체제 내부 (Software)** |

> 요약하자면,  
> **Device Driver는 운영체제의 명령을**  
> → **Device Controller를 통해 장치에 전달하고**,  
> → 장치에서 완료된 결과는 **인터럽트를 통해 CPU에 전달**됩니다.
