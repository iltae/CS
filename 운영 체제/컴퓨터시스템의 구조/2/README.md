# 컴퓨터 시스템 구조

---

## Mode Bit

사용자 프로그램이 잘못 실행되어 **운영체제나 다른 프로그램에 피해를 주는 것**을 방지하기 위해,  
하드웨어적으로 **운영 모드**를 구분하는 **Mode Bit**이라는 보호 장치가 존재합니다.

### Mode Bit의 역할

- **1 (사용자 모드, User Mode)**: 사용자 프로그램 실행
- **0 (모니터 모드, Monitor Mode)**: 운영체제(OS) 코드 실행

> **모니터 모드 = 커널 모드(Kernel Mode) = 시스템 모드(System Mode)**

### 특권 명령 (Privileged Instructions)

- 보안을 해칠 수 있는 **중요 명령어**는 **모니터 모드에서만 실행 가능**
- 사용자 모드에서는 실행이 제한됨

### Mode Bit의 전환 흐름

- **Interrupt 또는 Exception 발생 시**, 하드웨어가 자동으로 Mode Bit을 `0`으로 설정 → **운영체제 진입**
- **운영체제가 사용자 프로그램에게 CPU를 넘기기 전**, Mode Bit을 `1`로 설정 → **사용자 모드 진입**

```
            → Interrupt / Exception 발생
모니터 모드                               사용자 모드
            ← OS sets to User Mode
```

## Timer (타이머)

### 타이머의 필요성

- 사용자 프로그램이 **무한 루프에 빠질 경우**, 운영체제가 **CPU를 강제로 회수할 수 없음**
- 특정 프로그램이 **CPU를 독점하는 상황**을 방지하기 위해 **추가 하드웨어인 타이머**가 필요함

### 타이머의 동작 방식

1. 운영체제가 사용자 프로그램에게 CPU를 넘길 때  
   → **타이머에 제한 시간을 설정**
2. 타이머는 **클럭 틱(Clock Tick)**마다 1씩 감소
3. 타이머 값이 `0`이 되면 **인터럽트 발생**
4. **운영체제에게 제어권이 반환됨**

### 타이머의 주요 활용

- ✅ **CPU 독점 방지**
- ✅ **Time Sharing 구현**  
  → 여러 작업이 번갈아가며 CPU를 공평하게 사용
- ✅ **현재 시간 계산용**  
  → 시스템 시계 기능으로 사용 가능

> 타이머는 운영체제가 시스템을 **공정하고 안정적으로 제어**하는 데 꼭 필요한 장치입니다.
